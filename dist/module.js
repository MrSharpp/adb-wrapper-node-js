import{spawn as $fU9C9$spawn}from"child_process";import{EOL as $fU9C9$EOL}from"os";import $fU9C9$fs from"fs";import{env as $fU9C9$env}from"process";const $919dac8482145438$export$684c1904296af82=["install"],$919dac8482145438$export$77048b86c4e268b=new RegExp("^[a-z]:((\\\\|/)[a-zA-Z0-9_ -]+)+.apk$","i");let $42c50e772bc154f1$var$currentDevice="",$42c50e772bc154f1$var$explicitAdbPath="";const $42c50e772bc154f1$var$execCmd=r=>new Promise(($,c)=>{r?r=r.split(/\s{1,}/g).join(" ").split(" "):c(new Error("No CMD")),$919dac8482145438$export$684c1904296af82.includes(r[0])&&""==$42c50e772bc154f1$var$currentDevice?c(new Error("Please call setCurrentActiveDevice, to set the current active device")):$919dac8482145438$export$684c1904296af82.includes(r[0])&&(r=["-s",$42c50e772bc154f1$var$currentDevice,...r]);const e=$fU9C9$spawn("adb",r,{env:{...$fU9C9$env,PATH:`undefined;${$42c50e772bc154f1$var$explicitAdbPath};`}});e.stdout.on("data",e=>$(e.toString())),e.stderr.on("data",e=>c(new Error(e.toString()))),e.on("error",e=>c(new Error(e.toString())))}),$42c50e772bc154f1$var$isAdbInstalled=()=>new Promise(($,e)=>{$42c50e772bc154f1$var$execCmd("--help").then(()=>$(!0)).catch(e=>$(!1))}),$42c50e772bc154f1$var$deviceList=()=>new Promise((c,$)=>{$42c50e772bc154f1$var$execCmd("devices").then(e=>{let $=e.split($fU9C9$EOL);$.shift();e=($=$.filter(e=>""!=e)).map(e=>{const $=e.split(/\s+/);e=/\W+/.test($[0]);return{type:e?"virtual":"physical",udid:$[0],port:e?$[0].match(/\W\d{4}/)[0].slice(1,5):null}});c(e)}).catch(e=>{console.log(e),$([])})}),$42c50e772bc154f1$var$setCurrentActiveDevice=e=>{$42c50e772bc154f1$var$currentDevice=e},$42c50e772bc154f1$var$setAdbExplicitPath=e=>{$42c50e772bc154f1$var$explicitAdbPath=e},$42c50e772bc154f1$var$killServer=()=>$42c50e772bc154f1$var$execCmd("kill-server"),$42c50e772bc154f1$var$startServer=()=>$42c50e772bc154f1$var$execCmd("start-server"),$42c50e772bc154f1$var$reconnect=()=>$42c50e772bc154f1$var$execCmd("reconnect"),$42c50e772bc154f1$var$tcpip=e=>$42c50e772bc154f1$var$execCmd("tcpip "+e),$42c50e772bc154f1$var$connectRemote=e=>$42c50e772bc154f1$var$execCmd(`connect ${e.ip}:`+e.port),$42c50e772bc154f1$var$disconnectRemote=e=>$42c50e772bc154f1$var$execCmd(`disconnect ${e.ip}:`+e.port),$42c50e772bc154f1$var$installApp=e=>$919dac8482145438$export$77048b86c4e268b.test(e)&&$fU9C9$fs.existsSync(e)?$42c50e772bc154f1$var$execCmd("install -r "+e):Promise.reject(new Error("Invalid Apk Path")),$42c50e772bc154f1$var$uninstallApp=e=>e?$42c50e772bc154f1$var$execCmd("uninstall "+e):Promise.reject(new Error("Invalid Apk package id")),$42c50e772bc154f1$var$adb={isAdbInstalled:$42c50e772bc154f1$var$isAdbInstalled,reconnect:$42c50e772bc154f1$var$reconnect,startServer:$42c50e772bc154f1$var$startServer,killServer:$42c50e772bc154f1$var$killServer,setAdbExplicitPath:$42c50e772bc154f1$var$setAdbExplicitPath,setCurrentActiveDevice:$42c50e772bc154f1$var$setCurrentActiveDevice,deviceList:$42c50e772bc154f1$var$deviceList,installApp:$42c50e772bc154f1$var$installApp,uninstallApp:$42c50e772bc154f1$var$uninstallApp};var $42c50e772bc154f1$export$2e2bcd8739ae039=$42c50e772bc154f1$var$adb,$d415641d0cfd8c85$export$2e2bcd8739ae039=$42c50e772bc154f1$var$adb,$iEn1Z$child_process=require("child_process"),$iEn1Z$os=require("os"),$iEn1Z$fs=require("fs"),$iEn1Z$process=require("process");function $parcel$defineInteropFlag(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function $parcel$export(e,$,c,r){Object.defineProperty(e,$,{get:c,set:r,enumerable:!0,configurable:!0})}function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}$parcel$defineInteropFlag(module.exports),$parcel$export(module.exports,"default",()=>$f5bfd4ce37214f4f$export$2e2bcd8739ae039);const $c122116bdd400350$export$684c1904296af82=["install"],$c122116bdd400350$export$77048b86c4e268b=new RegExp("^[a-z]:((\\\\|/)[a-zA-Z0-9_ -]+)+.apk$","i");let $8e21a199ffaaeeb1$var$currentDevice="",$8e21a199ffaaeeb1$var$explicitAdbPath="";const $8e21a199ffaaeeb1$var$execCmd=r=>new Promise(($,c)=>{r?r=r.split(/\s{1,}/g).join(" ").split(" "):c(new Error("No CMD")),$c122116bdd400350$export$684c1904296af82.includes(r[0])&&""==$8e21a199ffaaeeb1$var$currentDevice?c(new Error("Please call setCurrentActiveDevice, to set the current active device")):$c122116bdd400350$export$684c1904296af82.includes(r[0])&&(r=["-s",$8e21a199ffaaeeb1$var$currentDevice,...r]);const e=(0,$iEn1Z$child_process.spawn)("adb",r,{env:{...$iEn1Z$process.env,PATH:`undefined;${$8e21a199ffaaeeb1$var$explicitAdbPath};`}});e.stdout.on("data",e=>$(e.toString())),e.stderr.on("data",e=>c(new Error(e.toString()))),e.on("error",e=>c(new Error(e.toString())))}),$8e21a199ffaaeeb1$var$isAdbInstalled=()=>new Promise(($,e)=>{$8e21a199ffaaeeb1$var$execCmd("--help").then(()=>$(!0)).catch(e=>$(!1))}),$8e21a199ffaaeeb1$var$deviceList=()=>new Promise((c,$)=>{$8e21a199ffaaeeb1$var$execCmd("devices").then(e=>{let $=e.split($iEn1Z$os.EOL);$.shift(),e=($=$.filter(e=>""!=e)).map(e=>{const $=e.split(/\s+/);return{type:(e=/\W+/.test($[0]))?"virtual":"physical",udid:$[0],port:e?$[0].match(/\W\d{4}/)[0].slice(1,5):null}}),c(e)}).catch(e=>{console.log(e),$([])})}),$8e21a199ffaaeeb1$var$setCurrentActiveDevice=e=>{$8e21a199ffaaeeb1$var$currentDevice=e},$8e21a199ffaaeeb1$var$setAdbExplicitPath=e=>{$8e21a199ffaaeeb1$var$explicitAdbPath=e},$8e21a199ffaaeeb1$var$killServer=()=>$8e21a199ffaaeeb1$var$execCmd("kill-server"),$8e21a199ffaaeeb1$var$startServer=()=>$8e21a199ffaaeeb1$var$execCmd("start-server"),$8e21a199ffaaeeb1$var$reconnect=()=>$8e21a199ffaaeeb1$var$execCmd("reconnect"),$8e21a199ffaaeeb1$var$tcpip=e=>$8e21a199ffaaeeb1$var$execCmd("tcpip "+e),$8e21a199ffaaeeb1$var$connectRemote=e=>$8e21a199ffaaeeb1$var$execCmd(`connect ${e.ip}:`+e.port),$8e21a199ffaaeeb1$var$disconnectRemote=e=>$8e21a199ffaaeeb1$var$execCmd(`disconnect ${e.ip}:`+e.port),$8e21a199ffaaeeb1$var$installApp=e=>$c122116bdd400350$export$77048b86c4e268b.test(e)&&$parcel$interopDefault($iEn1Z$fs).existsSync(e)?$8e21a199ffaaeeb1$var$execCmd("install -r "+e):Promise.reject(new Error("Invalid Apk Path")),$8e21a199ffaaeeb1$var$uninstallApp=e=>e?$8e21a199ffaaeeb1$var$execCmd("uninstall "+e):Promise.reject(new Error("Invalid Apk package id")),$8e21a199ffaaeeb1$var$adb={isAdbInstalled:$8e21a199ffaaeeb1$var$isAdbInstalled,reconnect:$8e21a199ffaaeeb1$var$reconnect,startServer:$8e21a199ffaaeeb1$var$startServer,killServer:$8e21a199ffaaeeb1$var$killServer,setAdbExplicitPath:$8e21a199ffaaeeb1$var$setAdbExplicitPath,setCurrentActiveDevice:$8e21a199ffaaeeb1$var$setCurrentActiveDevice,deviceList:$8e21a199ffaaeeb1$var$deviceList,installApp:$8e21a199ffaaeeb1$var$installApp,uninstallApp:$8e21a199ffaaeeb1$var$uninstallApp};var $8e21a199ffaaeeb1$export$2e2bcd8739ae039=$8e21a199ffaaeeb1$var$adb,$f5bfd4ce37214f4f$export$2e2bcd8739ae039=$8e21a199ffaaeeb1$var$adb;import{spawn as $fU9C9$spawn}from"child_process";import{EOL as $fU9C9$EOL}from"os";import $fU9C9$fs from"fs";import{env as $fU9C9$env}from"process";const $919dac8482145438$export$684c1904296af82=["install"],$919dac8482145438$export$77048b86c4e268b=new RegExp("^[a-z]:((\\\\|/)[a-zA-Z0-9_ -]+)+.apk$","i");let $42c50e772bc154f1$var$currentDevice="",$42c50e772bc154f1$var$explicitAdbPath="";const $42c50e772bc154f1$var$execCmd=r=>new Promise(($,c)=>{r?r=r.split(/\s{1,}/g).join(" ").split(" "):c(new Error("No CMD")),$919dac8482145438$export$684c1904296af82.includes(r[0])&&""==$42c50e772bc154f1$var$currentDevice?c(new Error("Please call setCurrentActiveDevice, to set the current active device")):$919dac8482145438$export$684c1904296af82.includes(r[0])&&(r=["-s",$42c50e772bc154f1$var$currentDevice,...r]);const e=$fU9C9$spawn("adb",r,{env:{...$fU9C9$env,PATH:`undefined;${$42c50e772bc154f1$var$explicitAdbPath};`}});e.stdout.on("data",e=>$(e.toString())),e.stderr.on("data",e=>c(new Error(e.toString()))),e.on("error",e=>c(new Error(e.toString())))}),$42c50e772bc154f1$var$isAdbInstalled=()=>new Promise(($,e)=>{$42c50e772bc154f1$var$execCmd("--help").then(()=>$(!0)).catch(e=>$(!1))}),$42c50e772bc154f1$var$deviceList=()=>new Promise((c,$)=>{$42c50e772bc154f1$var$execCmd("devices").then(e=>{let $=e.split($fU9C9$EOL);$.shift();e=($=$.filter(e=>""!=e)).map(e=>{const $=e.split(/\s+/);e=/\W+/.test($[0]);return{type:e?"virtual":"physical",udid:$[0],port:e?$[0].match(/\W\d{4}/)[0].slice(1,5):null}});c(e)}).catch(e=>{console.log(e),$([])})}),$42c50e772bc154f1$var$setCurrentActiveDevice=e=>{$42c50e772bc154f1$var$currentDevice=e},$42c50e772bc154f1$var$setAdbExplicitPath=e=>{$42c50e772bc154f1$var$explicitAdbPath=e},$42c50e772bc154f1$var$killServer=()=>$42c50e772bc154f1$var$execCmd("kill-server"),$42c50e772bc154f1$var$startServer=()=>$42c50e772bc154f1$var$execCmd("start-server"),$42c50e772bc154f1$var$reconnect=()=>$42c50e772bc154f1$var$execCmd("reconnect"),$42c50e772bc154f1$var$tcpip=e=>$42c50e772bc154f1$var$execCmd("tcpip "+e),$42c50e772bc154f1$var$connectRemote=e=>$42c50e772bc154f1$var$execCmd(`connect ${e.ip}:`+e.port),$42c50e772bc154f1$var$disconnectRemote=e=>$42c50e772bc154f1$var$execCmd(`disconnect ${e.ip}:`+e.port),$42c50e772bc154f1$var$installApp=e=>$919dac8482145438$export$77048b86c4e268b.test(e)&&$fU9C9$fs.existsSync(e)?$42c50e772bc154f1$var$execCmd("install -r "+e):Promise.reject(new Error("Invalid Apk Path")),$42c50e772bc154f1$var$uninstallApp=e=>e?$42c50e772bc154f1$var$execCmd("uninstall "+e):Promise.reject(new Error("Invalid Apk package id")),$42c50e772bc154f1$var$adb={isAdbInstalled:$42c50e772bc154f1$var$isAdbInstalled,reconnect:$42c50e772bc154f1$var$reconnect,startServer:$42c50e772bc154f1$var$startServer,killServer:$42c50e772bc154f1$var$killServer,setAdbExplicitPath:$42c50e772bc154f1$var$setAdbExplicitPath,setCurrentActiveDevice:$42c50e772bc154f1$var$setCurrentActiveDevice,deviceList:$42c50e772bc154f1$var$deviceList,installApp:$42c50e772bc154f1$var$installApp,uninstallApp:$42c50e772bc154f1$var$uninstallApp};$d415641d0cfd8c85$export$2e2bcd8739ae039=$42c50e772bc154f1$export$2e2bcd8739ae039=$42c50e772bc154f1$var$adb;export{$d415641d0cfd8c85$export$2e2bcd8739ae039 as default,$d415641d0cfd8c85$export$2e2bcd8739ae039 as default};